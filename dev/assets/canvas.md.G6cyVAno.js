import{_ as i,o as a,c as l,ag as n}from"./chunks/framework.BUWCGn8t.js";const c=JSON.parse('{"title":"Graphics & Pixel Rendering","description":"","frontmatter":{},"headers":[],"relativePath":"canvas.md","filePath":"canvas.md","lastUpdated":null}'),e={name:"canvas.md"};function t(h,s,p,k,r,d){return a(),l("div",null,[...s[0]||(s[0]=[n(`<h1 id="Graphics-and-Pixel-Rendering" tabindex="-1">Graphics &amp; Pixel Rendering <a class="header-anchor" href="#Graphics-and-Pixel-Rendering" aria-label="Permalink to &quot;Graphics &amp; Pixel Rendering {#Graphics-and-Pixel-Rendering}&quot;">​</a></h1><p>Tachikoma offers three levels of graphical fidelity, from universal braille characters to pixel-perfect pixel rendering via the Kitty or sixel protocol.</p><h2 id="Canvas-Braille" tabindex="-1">Canvas (Braille) <a class="header-anchor" href="#Canvas-Braille" aria-label="Permalink to &quot;Canvas (Braille) {#Canvas-Braille}&quot;">​</a></h2><p><a href="/Tachikoma.jl/dev/canvas#Canvas-Braille" class="tachi-api-link"><code>Canvas</code></a> uses Unicode braille characters to draw at 2×4 resolution per terminal cell (each cell has 8 individually addressable dots):</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">canvas </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Canvas</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">40</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; style</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">tstyle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:primary</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Draw a circle and some lines</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">circle!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(canvas, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">39</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">39</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">30</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">line!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(canvas, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">79</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">79</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">line!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(canvas, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">79</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">79</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">rect!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(canvas, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">68</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">68</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">render</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(canvas, area, buf)</span></span></code></pre></div><div class="tachi-example-container"><img src="https://github.com/kahliburke/Tachikoma.jl/releases/download/docs-assets/canvas_braille.gif" alt="canvas_braille example" style="width:400px;max-width:100%;"></div><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Drawing coordinates: 0..width*2-1 × 0..height*4-1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">set_point!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(canvas, dx, dy)        </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># set a dot</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">unset_point!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(canvas, dx, dy)      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># clear a dot</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">clear!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(canvas)                     </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># clear all dots</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">line!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(canvas, x0, y0, x1, y1)     </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Bresenham line</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">rect!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(canvas, x0, y0, x1, y1)     </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># rectangle outline</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">circle!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(canvas, cx, cy, r)        </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># circle outline</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">arc!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(canvas, cx, cy, r, start_deg, end_deg; steps</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># arc</span></span></code></pre></div><p>The braille canvas works in every terminal and is the default rendering backend.</p><h2 id="BlockCanvas-Quadrant-Blocks" tabindex="-1">BlockCanvas (Quadrant Blocks) <a class="header-anchor" href="#BlockCanvas-Quadrant-Blocks" aria-label="Permalink to &quot;BlockCanvas (Quadrant Blocks) {#BlockCanvas-Quadrant-Blocks}&quot;">​</a></h2><p><a href="/Tachikoma.jl/dev/canvas#BlockCanvas-Quadrant-Blocks" class="tachi-api-link"><code>BlockCanvas</code></a> uses Unicode quadrant block characters at 2×2 resolution per cell. Each cell has 4 independently addressable quadrants, producing gap-free solid shapes:</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">canvas </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> BlockCanvas</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">40</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; style</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">tstyle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:primary</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">circle!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(canvas, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">39</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">19</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">15</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">line!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(canvas, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">79</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">39</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">rect!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(canvas, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">74</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">34</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">render</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(canvas, area, buf)</span></span></code></pre></div><div class="tachi-example-container"><img src="https://github.com/kahliburke/Tachikoma.jl/releases/download/docs-assets/canvas_block.gif" alt="canvas_block example" style="width:400px;max-width:100%;"></div><p>Same drawing API as <a href="/Tachikoma.jl/dev/canvas#Canvas-Braille" class="tachi-api-link"><code>Canvas</code></a> but at 2×2 resolution per cell.</p><p>BlockCanvas produces visually denser output than braille — better for filled shapes and thick lines.</p><h2 id="PixelImage-Pixel-Raster" tabindex="-1">PixelImage (Pixel Raster) <a class="header-anchor" href="#PixelImage-Pixel-Raster" aria-label="Permalink to &quot;PixelImage (Pixel Raster) {#PixelImage-Pixel-Raster}&quot;">​</a></h2><p><a href="/Tachikoma.jl/dev/api#Tachikoma.PixelImage-Tuple{Int64, Int64}" class="tachi-api-link"><code>PixelImage</code></a> is a widget that renders pixel-perfect raster graphics using the Kitty or sixel graphics protocol (auto-detected), with braille fallback. Each terminal cell maps to approximately 8×16 pixels (varies by terminal):</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">img </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> PixelImage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">40</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 40 cells × 20 cells</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Pixel API (1-based coordinates, up to pixel_w × pixel_h)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">set_pixel!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(img, px, py)                      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># use current color</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">set_pixel!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(img, px, py, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ColorRGB</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">255</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># explicit color</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">fill_rect!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(img, x0, y0, x1, y1, color)       </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># filled rectangle</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">load_pixels!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(img, pixel_matrix)               </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># bulk load from Matrix{ColorRGB}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># With a border</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">img </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> PixelImage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">40</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; block</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Block</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(title</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Image&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Render to frame (raster output needs Frame, not just Buffer)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">render</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(img, area, frame)</span></span></code></pre></div><h3 id="Pixel-Line-Drawing" tabindex="-1">Pixel Line Drawing <a class="header-anchor" href="#Pixel-Line-Drawing" aria-label="Permalink to &quot;Pixel Line Drawing {#Pixel-Line-Drawing}&quot;">​</a></h3><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">pixel_line!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(img, x0, y0, x1, y1)    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># line using current color</span></span></code></pre></div><h3 id="Decay-Effects" tabindex="-1">Decay Effects <a class="header-anchor" href="#Decay-Effects" aria-label="Permalink to &quot;Decay Effects {#Decay-Effects}&quot;">​</a></h3><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">img </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> PixelImage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">40</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; decay</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">DecayParams</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(decay</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, jitter</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span></code></pre></div><h2 id="PixelCanvas-Pixel-Drawing-Surface" tabindex="-1">PixelCanvas (Pixel Drawing Surface) <a class="header-anchor" href="#PixelCanvas-Pixel-Drawing-Surface" aria-label="Permalink to &quot;PixelCanvas (Pixel Drawing Surface) {#PixelCanvas-Pixel-Drawing-Surface}&quot;">​</a></h2><p><a href="/Tachikoma.jl/dev/canvas#PixelCanvas-Pixel-Drawing-Surface" class="tachi-api-link"><code>PixelCanvas</code></a> renders at full pixel resolution via the Kitty or sixel graphics protocol (auto-detected), with braille fallback. It combines pixel resolution with the Canvas drawing API, providing shape primitives at full pixel resolution:</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">canvas </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> PixelCanvas</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">40</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; style</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">tstyle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:primary</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Drawing at pixel resolution</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">set_pixel!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(canvas, px, py)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">set_pixel!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(canvas, px, py, color)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">pixel_line!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(canvas, x0, y0, x1, y1)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">fill_pixel_rect!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(canvas, x0, y0, x1, y1, color)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Set drawing color</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">canvas</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">color </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ColorRGB</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">255</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Render</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">render</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(canvas, area, buf)</span></span></code></pre></div><h3 id="Resolution-Properties" tabindex="-1">Resolution Properties <a class="header-anchor" href="#Resolution-Properties" aria-label="Permalink to &quot;Resolution Properties {#Resolution-Properties}&quot;">​</a></h3><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">canvas</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">pixel_w    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># total pixel width</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">canvas</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">pixel_h    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># total pixel height</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">canvas</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">dot_w      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># braille-compatible width (width * 2)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">canvas</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">dot_h      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># braille-compatible height (height * 4)</span></span></code></pre></div><h2 id="Render-Backend-Switching" tabindex="-1">Render Backend Switching <a class="header-anchor" href="#Render-Backend-Switching" aria-label="Permalink to &quot;Render Backend Switching {#Render-Backend-Switching}&quot;">​</a></h2><p>Switch between rendering backends globally:</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">set_render_backend!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(braille_backend)    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># universal, 2×4 per cell</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">set_render_backend!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(block_backend)      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># gap-free, 2×2 per cell</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">set_render_backend!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(sixel_backend)      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># pixel-perfect, ~16×32 per cell</span></span></code></pre></div><p>Or cycle at runtime with <strong>Ctrl+S</strong> → Render Backend.</p><p>The <code>create_canvas</code> helper creates the appropriate canvas type for the current backend:</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">canvas </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> create_canvas</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(width, height; style</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">tstyle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:primary</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Returns Canvas, BlockCanvas, or PixelCanvas based on render_backend()</span></span></code></pre></div><h2 id="Terminal-Pixel-Detection" tabindex="-1">Terminal Pixel Detection <a class="header-anchor" href="#Terminal-Pixel-Detection" aria-label="Permalink to &quot;Terminal Pixel Detection {#Terminal-Pixel-Detection}&quot;">​</a></h2><p>Tachikoma auto-detects the pixel dimensions of terminal cells for accurate pixel sizing:</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Read detected values</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CELL_PX[]         </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># (w=8, h=16) — pixels per cell</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">TEXT_AREA_PX[]    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># total text area in pixels</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">TEXT_AREA_CELLS[] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># total text area in cells</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">SIXEL_AREA_PX[]  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># sixel graphics area (from XTSMGRAPHICS)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">SIXEL_SCALE[]    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># (w=1.0, h=1.0) — manual scale adjustment</span></span></code></pre></div><h3 id="Query-Helpers" tabindex="-1">Query Helpers <a class="header-anchor" href="#Query-Helpers" aria-label="Permalink to &quot;Query Helpers {#Query-Helpers}&quot;">​</a></h3><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cell_pixels</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(n; axis</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:w</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># cells to pixels</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">sixel_area_pixels</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()           </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># (w=, h=) of sixel area</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">pixel_size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(canvas, rect)      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># compute pixel dimensions for a canvas in a rect</span></span></code></pre></div><h3 id="Manual-Override" tabindex="-1">Manual Override <a class="header-anchor" href="#Manual-Override" aria-label="Permalink to &quot;Manual Override {#Manual-Override}&quot;">​</a></h3><p>If auto-detection gets the wrong size, override in <code>LocalPreferences.toml</code>:</p><div class="language-toml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Tachikoma</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">cell_pixel_w = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">cell_pixel_h = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sixel_scale_w = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sixel_scale_h = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span></span></code></pre></div><h2 id="Choosing-a-Backend" tabindex="-1">Choosing a Backend <a class="header-anchor" href="#Choosing-a-Backend" aria-label="Permalink to &quot;Choosing a Backend {#Choosing-a-Backend}&quot;">​</a></h2><table tabindex="0"><thead><tr><th style="text-align:left;">Need</th><th style="text-align:left;">Backend</th><th style="text-align:left;">Why</th></tr></thead><tbody><tr><td style="text-align:left;">Maximum compatibility</td><td style="text-align:left;"><code>braille_backend</code></td><td style="text-align:left;">Works in every terminal</td></tr><tr><td style="text-align:left;">Solid filled shapes</td><td style="text-align:left;"><code>block_backend</code></td><td style="text-align:left;">Gap-free quadrant blocks</td></tr><tr><td style="text-align:left;">High-resolution graphics</td><td style="text-align:left;"><code>sixel_backend</code></td><td style="text-align:left;">True pixel rendering (Kitty or sixel)</td></tr><tr><td style="text-align:left;">Data visualization (charts)</td><td style="text-align:left;"><code>braille_backend</code></td><td style="text-align:left;">Clean lines, universal</td></tr><tr><td style="text-align:left;">Image display</td><td style="text-align:left;"><code>sixel_backend</code></td><td style="text-align:left;">Pixel-perfect raster (Kitty or sixel)</td></tr></tbody></table>`,42)])])}const g=i(e,[["render",t]]);export{c as __pageData,g as default};
